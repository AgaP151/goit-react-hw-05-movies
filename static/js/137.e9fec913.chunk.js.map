{"version":3,"file":"static/js/137.e9fec913.chunk.js","mappings":"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","sources":["components/MainContainer/MainContainer.styled.js","components/MainContainer/MainContainer.jsx","components/MovieCard/MovieCard.styled.js","components/MovieCard/MovieCard.jsx","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","pages/MoviesPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Title = styled.h1`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  border: 0;\n  padding: 0;\n\n  white-space: nowrap;\n  clip-path: inset(100%);\n  clip: rect(0 0 0 0);\n  overflow: hidden;\n`;\n","import { Title } from \"./MainContainer.styled\";\n\nexport const MainContainer = ({ title, children }) => {\n  return (\n    <main>\n      <Title>{title}</Title>\n      {children}\n    </main>\n  );\n};\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const StyledLink = styled(Link)`\n  height: 100%;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: ${p => p.theme.spacing(2)};\n`;\n\nexport const Img = styled.img`\nheight: 500px;\nobject-fit: cover;\n`;\n\nexport const Title = styled.h3`\n  margin: 0 ${p => p.theme.spacing(3.5)};\n`;\n\nexport const Rating = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 ${p => p.theme.spacing(3)};\n`;\n\nexport const RatingValue = styled.span`\n  display: block;\n  line-height: 2px;\n  font-weight: 500;\n`;\n","import { useLocation } from \"react-router-dom\";\nimport StarRatings from \"react-star-ratings\";\nimport { Img, Rating, RatingValue, StyledLink, Title } from \"./MovieCard.styled\";\n\nconst BASIC_IMG_URL = 'https://image.tmdb.org/t/p/original';\nconst PLACEHOLDER =\n  'https://designessentiamagazine.com/wp-content/themes/fox/images/placeholder.jpg';\n\nexport const MovieCard = ({\n  info: { id, title, poster_path, release_date, vote_average },\n}) => {\n  const location = useLocation();\n  const releaseDate = new Date(release_date);\n\n  return (\n    <StyledLink to={`/movies/${id}`} state={{ from: location }}>\n      {poster_path ? (\n        <Img src={`${BASIC_IMG_URL}${poster_path}`} alt={title} loading=\"lazy\" />\n      ) : (\n        <Img src={PLACEHOLDER} alt=\"placeholder\" loading=\"lazy\" />\n      )}\n      <Title>\n        {title} ({releaseDate.getFullYear()})\n      </Title>\n      <Rating>\n        <StarRatings\n          rating={vote_average}\n          numberOfStars={10}\n          starRatedColor=\"#ffc414\"\n          starDimension=\"19px\"\n          starSpacing=\"1px\"\n        />\n        <RatingValue>{vote_average.toFixed(1)}</RatingValue>\n      </Rating>\n    </StyledLink>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Title = styled.h2`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  border: 0;\n  padding: 0;\n\n  white-space: nowrap;\n  clip-path: inset(100%);\n  clip: rect(0 0 0 0);\n  overflow: hidden;\n`;\n\nexport const GridList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: ${p => p.theme.spacing(4)};\n`;\n\nexport const GridItem = styled.li`\n  flex-basis: 100%;\n  box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14),\n    0px 2px 1px rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n  overflow: hidden;\n  padding-bottom: ${p => p.theme.spacing(2)};\n\n  @media only screen and (min-width: 768px) {\n    flex-basis: calc((100% - ${p => p.theme.spacing(4)} * (2 - 1)) / 2);\n  }\n\n  @media only screen and (min-width: 1280px) {\n    flex-basis: calc((100% - ${p => p.theme.spacing(4)} * (4 - 1)) / 4);\n  }\n`;\n","import { MovieCard } from 'components/MovieCard/MovieCard';\nimport { serviceSearchMovies } from 'api/movieApi';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { ErrorMessage } from 'components/ErrorMessage/ErrorMessage';\nimport { Loading } from 'components/Loading/Loading';\nimport { GridItem, GridList, Title } from './MoviesList.styled';\nimport { Container } from 'components/Container/Container';\n\nexport const MoviesList = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [notFound, setNotFound] = useState(false);\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    const searchMovies = async () => {\n      try {\n        if (query === '') {\n          return;\n        }\n\n        setMovies([]);\n        setNotFound(false);\n        setError(false);\n        setLoading(true);\n        const response = await serviceSearchMovies(query);\n\n        if (response.results.length === 0) {\n          return setNotFound(true);\n        }\n\n        setMovies(response.results);\n      } catch (_) {\n        setError(true);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    searchMovies();\n  }, [query]);\n\n  const isVisible = () => {\n    if (loading || error || notFound) {\n      return false;\n    }\n    return true;\n  };\n\n  return (\n    <>\n      {loading && <Loading />}\n      {error && (\n        <ErrorMessage text=\"Oops... Something went wrong. Please reload the page!\" />\n      )}\n      {notFound && (\n        <ErrorMessage text=\"Nothing was found for this query. Please, try again\" />\n      )}\n      {isVisible() && (\n        <section>\n          <Container>\n            <Title>Search movies</Title>\n            <GridList>\n              {movies.map(item => (\n                <GridItem key={item.id}>\n                  <MovieCard info={item} />\n                </GridItem>\n              ))}\n            </GridList>\n          </Container>\n        </section>\n      )}\n    </>\n  );\n};\n","import styled from 'styled-components';\nimport { Field, Form, ErrorMessage } from 'formik';\n\nexport const Section = styled.section`\n  margin-bottom: ${p => p.theme.spacing(4)};\n`;\n\nexport const Title = styled.h2`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  border: 0;\n  padding: 0;\n\n  white-space: nowrap;\n  clip-path: inset(100%);\n  clip: rect(0 0 0 0);\n  overflow: hidden;\n`;\n\nexport const FormStyled = styled(Form)`\n  position: relative;\n\n  @media only screen and (min-width: 768px) {\n    & {\n      width: 350px;\n      margin-left: 25%;\n    }\n  }\n\n  @media only screen and (min-width: 1280px) {\n    & {\n      width: 400px;\n      margin-left: 33%;\n    }\n  }\n`;\n\nexport const FieldStyled = styled(Field)`\n  width: 100%;\n  height: 30px;\n\n  line-height: 32px;\n\n  border-radius: 26px;\n  border: 2px solid ${p => p.theme.colors.mainBorder};\n\n  padding-left: ${p => p.theme.spacing(3)};\n  padding-right: ${p => p.theme.spacing(9)};\n`;\n\nexport const ErrorMessageStyled = styled(ErrorMessage)`\n  position: absolute;\n  top: ${p => p.theme.spacing(1)};\n  left: ${p => p.theme.spacing(3)};\n  color: ${p => p.theme.colors.error};\n`;\n\nexport const Button = styled.button`\n  position: absolute;\n  right: 0;\n  top: 0;\n\n  background-color: ${p => p.theme.colors.mainBorder};\n  border-radius: 0px 26px 26px 0px;\n\n  width: 30px;\n  height: 30px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding-right: 2px;\n  cursor: pointer;\n\n  &:active {\n    background-color: ${p => p.theme.colors.active};\n\n  }\n`;\n","import { useSearchParams } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { Button, ErrorMessageStyled, FieldStyled, FormStyled, Section, Title } from './SearchForm.styled';\nimport { Container } from 'components/Container/Container';\nimport { FiSearch } from 'react-icons/fi';\n\nconst schema = Yup.object().shape({\n  query: Yup.string().required('Required'),\n});\n\nexport const SearchForm = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const handlerSearch = value => {\n    searchParams.set('query', value);\n    setSearchParams(searchParams);\n  };\n\n  return (\n    <Section>\n      <Container>\n        <Title>SearchForm</Title>\n        <Formik\n          initialValues={{\n            query: query,\n          }}\n          validationSchema={schema}\n          onSubmit={values => handlerSearch(values.query)}\n        >\n          <FormStyled>\n            <label>\n              <FieldStyled name=\"query\" autoFocus={true} />\n              <ErrorMessageStyled component=\"span\" name=\"query\" />\n            </label>\n\n            <Button type=\"submit\">\n              <FiSearch />\n            </Button>\n          </FormStyled>\n        </Formik>\n      </Container>\n    </Section>\n  );\n};\n","import { MainContainer } from 'components/MainContainer/MainContainer';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\n\nconst MoviesPage = () => {\n  return (\n    <MainContainer title=\"Movies\">\n      <SearchForm />\n      <MoviesList />\n    </MainContainer>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["Title","styled","_templateObject","_taggedTemplateLiteral","MainContainer","_ref","title","children","_jsxs","_jsx","StyledLink","Link","p","theme","spacing","Img","_templateObject2","_templateObject3","Rating","_templateObject4","RatingValue","_templateObject5","MovieCard","_ref$info","info","id","poster_path","release_date","vote_average","location","useLocation","releaseDate","Date","to","concat","state","from","src","alt","loading","getFullYear","StarRatings","rating","numberOfStars","starRatedColor","starDimension","starSpacing","toFixed","GridList","GridItem","MoviesList","_searchParams$get","_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useState3","_useState4","error","setError","_useState5","_useState6","setLoading","_useState7","_useState8","notFound","setNotFound","_useSearchParams","useSearchParams","query","get","useEffect","searchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","abrupt","serviceSearchMovies","sent","results","length","t0","finish","stop","apply","arguments","_Fragment","Loading","ErrorMessage","text","Container","map","item","Section","FormStyled","Form","FieldStyled","Field","colors","mainBorder","ErrorMessageStyled","Button","_templateObject6","active","schema","Yup","shape","required","SearchForm","_useSearchParams2","searchParams","setSearchParams","Formik","initialValues","validationSchema","onSubmit","values","value","set","name","autoFocus","component","type","FiSearch"],"sourceRoot":""}